{{ $navigationTextColor := "" }}
{{ $backgroundImage := "" }}
{{ $backgroundColor := "" }}
{{ $backgroundClasses := "" }}
{{ $logo_black := "/img/logo.svg" }}
{{ $logo_white := "/img/logo_white.svg" }}
{{ $logo_alabaster := "/img/logo_alabaster.svg" }}
{{ $logo := $logo_black }}
{{ if eq .Params.headerTheme "black"}}
    {{ $navigationTextColor = "text-light-grey"}}
    {{ $backgroundColor = "bg-black"}}
    {{ $backgroundClasses = "bg-black text-light-grey"}}
    {{ $logo = $logo_white }}
{{ else if eq .Params.headerTheme "white"}}
    {{ $navigationTextColor = "text-black"}}
    {{ $backgroundColor = "bg-white"}}
    {{ $backgroundClasses = "bg-white text-black"}}
    {{ $backgroundImage = "img/header_alabaster.png.webp" }}
    {{ $logo = $logo_white }}
{{ else if eq .Params.headerTheme "black-with-image"}}
    {{ $navigationTextColor = "text-light-grey"}}
    {{ $backgroundColor = "bg-black"}}
    {{ $backgroundClasses = "bg-black text-light-grey"}}
    {{ $backgroundImage = "img/header_pale-green.png.webp" }}
    {{ $logo = $logo_white }}
{{ else if eq .Params.headerTheme "homepage"}}
    {{ $navigationTextColor = "text-white"}}
    {{ $backgroundColor = ""}}
    {{ $backgroundClasses = "fixed top-0 left-0 w-full h-12 text-white"}}
    {{ $logo = $logo_white }}
{{ else if eq .Params.headerTheme "green" }}
    {{ $navigationTextColor = "text-black"}}
    {{ $backgroundColor = "bg-green"}}
    {{ $backgroundImage = "img/header_pale-purple.png.webp" }}
    {{ $backgroundClasses = "bg-green text-black bg-top"}}
{{ else if eq .Params.headerTheme "yellow" }}
    {{ $navigationTextColor = "text-black"}}
    {{ $backgroundColor = "bg-yellow"}}
    {{ $backgroundImage = "img/header_yellow.png.webp" }}
    {{ $backgroundClasses = "bg-yellow text-black"}}
{{ else if eq .Params.headerTheme "pale-green" }}
    {{ $navigationTextColor = "text-black"}}
    {{ $backgroundColor = "bg-pale-green"}}
    {{ $backgroundImage = "img/header_pale-green.png.webp" }}
    {{ $backgroundClasses = "bg-pale-green text-black"}}
{{ else if eq .Params.headerTheme "alabaster" }}
    {{ $navigationTextColor = "text-black"}}
    {{ $backgroundColor = "bg-alabaster"}}
    {{ $backgroundImage = "img/header_alabaster.png.webp" }}
    {{ $backgroundClasses = "bg-alabaster text-black"}}
{{ else if eq .Params.headerTheme "pale-purple" }}
    {{ $navigationTextColor = "text-black"}}
    {{ $backgroundColor = "bg-pale-purple"}}
    {{ $backgroundImage = "img/header_pale-purple.png.webp" }}
    {{ $backgroundClasses = "bg-pale-purple text-black"}}
{{ else if eq .Params.headerTheme "red" }}
    {{ $navigationTextColor = "text-black"}}
    {{ $backgroundColor = "bg-red"}}
    {{ $backgroundImage = "img/header_red.png.webp" }}
    {{ $backgroundClasses = "bg-red text-black"}}
{{ else if eq .Params.headerTheme "pale-pink" }}
    {{ $navigationTextColor = "text-black"}}
    {{ $backgroundColor = "bg-pale-pink"}}
    {{ $backgroundImage = "img/header_pale-pink.png.webp" }}
    {{ $backgroundClasses = "bg-pale-pink text-black"}}
{{ else }}
    {{ $navigationTextColor = "text-black"}}
    {{ $backgroundColor = "bg-alabaster"}}
    {{ $backgroundImage = "img/header_alabaster.png.webp" }}
    {{ $backgroundClasses = "bg-alabaster text-black"}}
{{ end }}
{{ if .Site.Params.GoogleTagManager }}
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id={{ .Site.Params.GoogleTagManager }}"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
{{ end }}
<header class="z-40 w-full
    {{ $backgroundColor }}
    bg-cover bg-right-bottom bg-no-repeat
    {{ $backgroundClasses }}"
    {{ if ne $backgroundImage "" }} data-id="background-image" style="background-image: url('/{{ $backgroundImage }}')" {{ end }}
    >
    <nav class="z-40 h-10 fixed top-0 left-0 w-full transition-navigation pt-0 md:pt-6 bg-transparent {{ $navigationTextColor }}" id="navigation">
        <div class="w-full px-4 md:px-12 lg:px-20 max-w-screen-3xl py-1 mx-auto flex items-center justify-between space">
            <a href="/" class="h-8" style="position: relative">
                <svg xmlns="http://www.w3.org/2000/svg"  width="563" height="96" style="position: absolute; left: -197px; top: -33px; transform:scale(0.3);">
                    <g fill="currentColor">
                        <path
                            d="M100.06 22C90 16.21 76.94 12.82 62.98 12.31V.62h-7.32v11.73c-14 .51-27 3.9-37.09 9.69C7 28.7.62 37.77.62 47.59S7 66.49 18.57 73.15c10.07 5.79 23.13 9.17 37.09 9.68v12.41H63V82.83c14-.51 27-3.89 37.08-9.68 11.58-6.66 18-15.74 18-25.56 0-9.82-6.44-18.89-18.02-25.59zM59.32 75.55c-27.85 0-51.38-12.82-51.38-28s23.53-28 51.38-28 51.38 12.82 51.38 28-23.53 28.04-51.38 28.04v-.04zm96.84-.12V43.8h-8v-6.42h8v-5c0-8.1 4.14-13.15 13.85-13.15h10.09v6.42h-10.54c-4.59 0-6 2.15-6 6.88v4.82H179v6.42h-15.46V75.4l-7.38.03zm28.13-32.55c0-3.74 1.74-5.58 5.43-5.5h18.18v6.42h-16.31v31.63h-7.3V42.88zm44.07-6.27c10.84 0 18 6.8 18 18.49v2.76H217c.3 6.57 3.61 12.15 12.34 12.15 5.8 0 9.71-2.75 11-7.95h7.3c-1.2 5.89-6.1 14.14-18.29 14.14-13.62 0-19.42-9.4-19.42-20.33-.01-12.23 7.59-19.26 18.43-19.26zm10.92 16c0-5.43-3.54-9.93-10.92-9.93-7.22 0-11.36 4.5-11.36 9.93h22.28zm38.87-2.99c1.51-6.88 7-13 15.13-13 8.73 0 14.3 5.27 14.3 16v22.77h-7.37v-21.7c0-7.72-2.79-10.7-9.11-10.7-7.68 0-13 5.73-13 16.05v16.35h-7.3V19.26h7.3l.05 30.36z" />
                        <path
                            d="M278.15 49.62c1.51-6.88 7-13 15.13-13 8.73 0 14.3 5.27 14.3 16v22.77h-7.37v-21.7c0-7.72-2.79-10.7-9.11-10.7-7.68 0-13 5.73-13 16.05v16.35h-7.3V19.26h7.3l.05 30.36zm53.36-13.01c10.84 0 18 6.8 18 18.49v2.76h-29.36c.3 6.57 3.61 12.15 12.34 12.15 5.8 0 9.71-2.75 11-7.95h7.3c-1.2 5.89-6.09 14.14-18.29 14.14-13.62 0-19.42-9.4-19.42-20.33-.01-12.23 7.59-19.26 18.43-19.26zm10.92 16c0-5.43-3.54-9.93-10.92-9.93-7.22 0-11.36 4.5-11.36 9.93h22.28zm14.8-15.23h7v38.06h-7zm-2.29-11.16a5.4 5.4 0 015.72-5.43c3.38 0 5.87 2.29 5.87 5.43 0 3.14-2.49 5.5-5.87 5.5a5.41 5.41 0 01-5.72-5.5zm17.23-.46h7.3v11.62h11.89v6.42h-11.89v25.27h13.4v6.35h-15.28c-3.69.22-5.42-1.76-5.42-5.51V25.76zM254.08 37.38h7v38.06h-7zm-2.3-11.16a5.4 5.4 0 015.72-5.43c3.39 0 5.88 2.29 5.88 5.43 0 3.14-2.49 5.5-5.88 5.5a5.42 5.42 0 01-5.72-5.5zM433 36.61c8.06 0 17.68 4.43 18.53 15.44h-7.6c-.93-6.5-5.51-9-10.93-9-8.54 0-12.49 5.88-12.49 13.3 0 7.42 4 13.45 12.49 13.45 5.42 0 10-2.52 10.93-9h7.6c-.85 11-10.47 15.44-18.53 15.44-12.49 0-20-8.49-20-19.87s7.51-19.76 20-19.76zm43.39 0c12.25 0 20.63 8.25 20.63 19.72 0 11.47-8.38 19.87-20.63 19.87-12.25 0-20.71-8.26-20.71-19.87 0-11.61 8.38-19.72 20.71-19.72zm0 33.17c8.37 0 13-5.73 13-13.45 0-7.72-4.66-13.3-13-13.3-8.53 0-13.18 5.73-13.18 13.3s4.65 13.45 13.18 13.45zM399 70.7a5.4 5.4 0 015.72-5.43c3.39 0 5.87 2.29 5.87 5.43 0 3.14-2.48 5.5-5.87 5.5a5.42 5.42 0 01-5.72-5.5zm151.54-34.09c-8.13 0-13 6.13-14.49 13l-.12.43c-.59-9-4.39-13.44-12.38-13.44-7.99 0-13 6.13-14.49 13V37.38h-7.3v38.05h7.3V59.08c0-10.32 3.75-16.05 11.43-16.05 5.21 0 8.15 3.53 8.15 10.7v21.7h7.41V59.08c0-10.32 4-16.05 11.71-16.05 5.21 0 7.87 3.72 7.87 10.7v21.7H563V52.66c0-10.78-3.73-16.05-12.46-16.05z" />
                    </g>
                </svg>
            </a>
            <input type="checkbox" class="hidden checkbox" id="open-menu-checkbox">
                <div class="xl:hidden checkbox-content transition duration-200 ease-in-out">
                    <div
                            class="bg-right bg-contain bg-no-repeat flex flex-col xl:hidden fixed top-0 left-0 w-full h-screen p-5 bg-black text-light-grey"
                            style="background-image: url(/img/mobile-navigation_background.png.webp);">
                        <div class="flex items-center justify-between space">
                            <a href="/"><img class="h-8 object-scale-down" src="{{ $logo_white }}" alt="freiheit logo" width="188" height="32" /></a>
                            <span class="cursor-pointer inline-flex xl:hidden p-2 items-center justify-center transform hover:scale-125 focus:outline-none" id="navigation_close">
                                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5,6 L19,17.9845516 M5,18 L19,6"/>
                                </svg>
                            </span>
                        </div>
                        <ul class="mt-20 md:pl-12 md:pr-12 flex-1">
                            {{ $currentPage := . }}
                            {{ range .Site.Menus.main }}
                            <li class="pb-5 md:pb-10">
                                <a href="{{ .URL | absLangURL }}" class="inline-block py-1
                                    {{if or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) }}
                                        text-white underline hover:underline
                                    {{else}}
                                        text-light-grey hover:text-white no-underline
                                    {{end}}">
                                    {{ .Pre }}
                                    <div class="h3 mb-0">{{ .Name }}</div>
                                </a>
                            </li>
                            {{ end }}
                        </ul>
                        <div class="">
                            {{- partial "footer-legal.html" . -}}
                        </div>
                    </div>
                </div>
            </input>
            <label for="open-menu-checkbox" class="xl:hidden">
                <span
                    class="cursor-pointer inline-flex xl:hidden p-2 items-center justify-center transform hover:scale-125 focus:outline-none"
                    aria-expanded="false">
                    <span class="sr-only">Open menu</span>
                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                        aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </span>
            </label>
            {{ if or (.Params.headerHeadline) (.Params.headerSubline) (eq .Params.layout "article") (strings.Contains .Page.RelPermalink "/tags/") }}
            <ul class="hidden xl:flex flex-wrap font-light w-100 gap-6">
                {{ $currentPage := . }}
                {{ range .Site.Menus.main }}
                    {{ if .HasChildren }}
                        <li>
                            <a href="#" class="no-underline font-thin py-1 {{if or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) }} border-b-2{{else}}hover:border-b{{end}}">
                                {{ .Pre }}
                                <span>{{ .Name }}</span>
                            </a>
                        </li>
                        <ul class="sub-menu">
                            {{ range .Children }}
                            <li>
                                <a href="{{ .URL | absLangURL }}" class="no-underline font-thin py-1 {{ if $currentPage.IsMenuCurrent " main" . }} border-b-2{{else}}hover:border-b{{end}}">{{ .Name }}</a>
                            </li>
                            {{ end }}
                        </ul>
                    {{ else }}
                        <li>
                            <a href="{{ .URL | absLangURL }}"  class="no-underline font-thin py-1 {{if or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) (and (in $currentPage.RelPermalink "/tags/") (eq .Name "Chronicle")) }} border-b-2{{else}}hover:border-b{{end}}">
                                {{ .Pre }}
                                <span>{{ .Name }}</span>
                            </a>
                        </li>
                    {{ end }}
                {{ end }}
            </ul>
            {{ end }}
        </div>
    </nav>

    <!-- header title -->
    {{ if not (.Params.hideHeaderTitle) }}
    <div class="relative z-30 fdc-content-layout" id="page-content">
        <section>
            <div class="py-12 md:py-24">
                {{ if strings.Contains .Page.RelPermalink "/tags/" }}
                    <h1>{{ .Page.Title }}</h1>
                {{ end }}
                {{ if and (.Params.headerHeadline) (not .Params.hideHeaderTitleText) }}
                <h1>
                    {{ .Params.headerHeadline }}
                </h1>
                {{ end }}
                {{ if and (.Params.headerSubline) (not .Params.hideHeaderTitleText) }}
                <p>
                    {{ .Params.headerSubline }}
                </p>
                {{ end }}
            </div>
        </section>
    </div>
    {{ end }}
</header>